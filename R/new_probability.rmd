---
output: 
  html_document:
    highlight: tango
    toc: true
    toc_float: true
    toc_depth: 4
    number_sections: false
    df_print: kable
knit: furmanr::knit_output_dir("C:/Users/brenner/Documents/GitHub/guides")
---

\newcommand\first[1]{\color{darkblue}{\textbf{#1}}}
\newcommand\second[1]{\color{dodgerblue}{\textbf{#1}}}
\newcommand\third[1]{\color{skyblue}{\textrm{#1}}}

[Return to Main Page](new_r_index.html)

```{r include=FALSE}
library(kableExtra)
library(tidyverse)

knitr::opts_chunk$set(message = FALSE, warning = FALSE)

output <- function(data) {
  knitr::kable(data) %>% 
    kable_styling(full_width = F)
  }
```

![](https://raw.githubusercontent.com/social-lorax/new_guides/main/Images/Underlines/r_underline.png)

# $\first{Basic Probability}$

***

### $\second{Single Event}$ 

#### $\third{- Theoretical}$

* Calculate all options 
* Assume all options are equally likely 
* Divide successes over total 

```{r}
#Coin flip 
options <- 2 #heads or tails 
success <- 1 #heads 

probability <- success/options
probability
```

<br> 

#### $\third{- Experimental}$

* Conduct many experiments 
* Count successes 
* Divide successes over total 

```{r}
#Coin flip 
flips <- rbinom(100000, 1, 0.5)
success <- sum(flips == 1)

probability <- success/length(flips)
probability
```

***

### $\second{Intersection (X ∩ Y)}$ 

Joint Probability = P(A & B) = P(A ∩ B)

P(A=head & B=heads)

<br> 

#### $\third{- Theoretical (long)}$

* Calculate all options 
* Assume all options are equally likely 
* Divide successes over total 

```{r}
#Coin flipped twice for HT 
options <- 4 #HT, HH, TH, TT 
success <- 1 #HT

probability <- success/options
probability
```

<br> 

#### $\third{- Theoretical (short)}$

* Calculate probability of A and of B
* Multiply together 

```{r}
#Coin flipped twice for HT
options <- 2 #heads or tails 
success_a <- 1 #heads
success_b <- 1 #tails

probability <- (success_a/options) * (success_b/options)
probability
```

<br> 

#### $\third{- Experimental}$
 
* Conduct many experiments 
* Count successes 
* Divide successes over total 

```{r}
#Coin flipped twice for HT
flip1 <- rbinom(100000, 1, 0.5)
flip2 <- rbinom(100000, 1, 0.5)
success <- sum(flip1 & !flip2)

probability <- success/length(flip1)
probability
```

***

### $\second{Union (X ∪ Y)}$ 

P(A or B) = P(A ∪ B)

P(A=heads or B=heads)

<br> 

#### $\third{- Theoretical (long)}$

* Calculate all options 
* Assume all options are equally likely 
* Divide successes over total 

```{r}
#Coin flipped twice for HT 
options <- 4 #HT, HH, TH, TT 
success <- 3 #HT, HH, TH

probability <- success/options
probability
```

<br> 

#### $\third{- Theoretical (short)}$

* Calculate probability of A and of B
* Add P(A) to P(B) and subtract P(A & B)

```{r}
#Coin flipped twice for HT
options <- 2 #heads or tails 
success_a <- 1 #heads
success_b <- 1 #tails

probability_a <- success_a/options
probability_b <- success_b/options
probability_ab <- (success_a/options) * (success_b/options)

probability_a + probability_b - probability_ab
```

<br> 

#### $\third{- Experimental}$

* Conduct many experiments 
* Count successes 
* Divide successes over total 

```{r}
#Coin flipped twice for HT
flip1 <- rbinom(100000, 1, 0.5)
flip2 <- rbinom(100000, 1, 0.5)
success <- sum(flip1 | !flip2)

probability <- success/length(flip1)
probability
```

![](https://raw.githubusercontent.com/social-lorax/new_guides/main/Images/Underlines/r_underline.png)

# $\first{Binomial Distribution}$

****

The discrete probability distribution of the number of successes in a sequence of n independent experiments, each asking a yes–no question.

* Independent experiments with a Boolean-valued outcome (e.g., coin flip)
* Probability of success (e.g., heads) = `p`
* Probability of failure (e.g., tails) = `q` = 1 - `p`
* Repeated for `n` experiments 
* A single experiment (`n` = 1) is a Bernoulli trial

****

`rbinom()` simulates a Bernoulli trial, but has an interesting naming scheme:

* `n` = number of runs 
* `size` = number of experiments per run
* `p` = probability of success

```{r}
#Flipping a coin 10,000 times
rbinom(n = 10000,
       size = 1,
       p = 0.5) %>% 
  tibble() %>% 
  ggplot(aes(x = .)) + 
  geom_histogram(bins = 2, center = 0, fill = "gray40", col = "white") + 
  scale_x_continuous(breaks = c(0:10)) + 
  labs(title = "Binomial Distribution of a Coin Flip",
       x = "Number of Heads",
       y = "Number of Trials") + 
  theme_classic()
```
<br> 

```{r}
#Flipping a coin 10 times, 10,000 times
rbinom(n = 10000,
       size = 10,
       p = 0.5) %>% 
  tibble() %>% 
  ggplot(aes(x = .)) + 
  geom_histogram(bins = 11, center = 0, fill = "gray40", col = "white") + 
  scale_x_continuous(breaks = c(0:10)) + 
  labs(title = "Binomial Distribution of 10 Coin Flips",
       x = "Number of Heads",
       y = "Number of Trials") + 
  theme_classic()
```

<br> 

`dbinom()` calculates the probability of getting exactly a certain number of successes

* `x` = number of successes
* `size` = number of experiments
* `p` = probability of success

```{r}
#Probability of exactly 5 heads
dbinom(x = 5,
       size = 10,
       p = 0.5)
```

<br> 

`pbinom()` calculates the cumulative probability of getting above or below a certain number of successes

* `q` = number of successes
* `size` = number of experiments
* `p` = probability of success
* `lower.tail` = probability <= q (`TRUE`) or probability > q (`FALSE`)

```{r}
#Probability of 5 or fewer heads
pbinom(q = 5,
       size = 10,
       p = 0.5,
       lower.tail = TRUE)
```

<br> 

The expected value (`E[x]`) = `size * p`

```{r}
#Theoretical 
10 * 0.5
```

```{r}
#Experimental
rbinom(n = 10000,
       size = 10,
       p = 0.5) %>% 
  mean()
```

<br>

The variance (`Var(X)`) = `size * p * (1 - p)`

```{r}
#Theoretical 
10 * 0.5 * (1 - 0.5)
```

```{r}
#Experimental
rbinom(n = 10000,
       size = 10,
       p = 0.5) %>% 
  var()
```

![](https://raw.githubusercontent.com/social-lorax/new_guides/main/Images/Underlines/r_underline.png)

# $\first{Poisson Distribution}$

****

The discrete probability distribution that expresses the probability of a given number of events occurring in a fixed interval of time or space.

* Events occur with a known constant mean rate (λ)
* Events are independent of the time since the last event
* Essentially, a special binomial distribution when `p` is small and `n` is large

****

`rpois()` simulates a Poisson distribution:

* `n` = number of observations 
* `lambda` = constant mean rate

```{r}
#Events per hour with mean of 5
rpois(n = 10000,
      lambda = 5) %>% 
  tibble() %>% 
  ggplot(aes(x = .)) + 
  geom_histogram(binwidth = 1, center = 0, fill = "gray40", col = "white") + 
  labs(title = "Poisson Distribution of Events per Hour",
       x = "Number of Events",
       y = "Number of Observations") + 
  theme_classic()
```

<br> 

`dpois()` calculates the probability of getting exactly a certain number of successes

* `x` = number of successes
* `lambda` = constant mean rate

```{r}
#Probability of exactly 5 events
dpois(x = 5,
      lambda = 5)
```

<br> 

`ppois()` calculates the cumulative probability of getting above or below a certain number of successes

* `q` = number of successes
* `lambda` = constant mean rate
* `lower.tail` = probability <= q (`TRUE`) or probability > q (`FALSE`)

```{r}
#Probability of 5 or fewer events
ppois(q = 5,
       lambda = 5,
       lower.tail = TRUE)
```

![](https://raw.githubusercontent.com/social-lorax/new_guides/main/Images/Underlines/r_underline.png)

# $\first{Normal Distribution}$

****

* Continuous variable instead of Boolean 

****

`rnorm()` simulates a normal distribution:

* `n` = number of observations 
* `mean` = mean of the population
* `sd` = standard deviation of the population

```{r}
#Grades of 10,000 students with average 3.25 and standard deviation of 0.25
rnorm(n = 10000,
      mean = 3.25,
      sd = 0.25) %>% 
  tibble() %>% 
  ggplot(aes(x = .)) + 
  geom_histogram(center = 0, fill = "gray40", col = "white") + 
  labs(title = "Normal Distribution of GPA",
       x = "GPA",
       y = "Number of Students") + 
  theme_classic()
```

`pnorm()` calculates the cumulative probability of getting above or below a certain value

* `q` = value
* `mean` = mean of the population
* `sd` = standard deviation of the population
* `lower.tail` = probability <= q (`TRUE`) or probability > q (`FALSE`)

```{r}
#Probability of GPA over 3.5
pnorm(q = 3.5,
      mean = 3.25,
      sd = 0.25,
      lower.tail = FALSE)
```

![](https://raw.githubusercontent.com/social-lorax/new_guides/main/Images/Underlines/r_underline.png)
